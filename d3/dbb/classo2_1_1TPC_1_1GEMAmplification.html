<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Project: o2::TPC::GEMAmplification Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d3/dbb/classo2_1_1TPC_1_1GEMAmplification.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d4/dfc/classo2_1_1TPC_1_1GEMAmplification-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">o2::TPC::GEMAmplification Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d9/d79/GEMAmplification_8h_source.html">GEMAmplification.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for o2::TPC::GEMAmplification:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/de6/classo2_1_1TPC_1_1GEMAmplification__coll__graph.svg" width="211" height="163"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adfebfd20260f815c7e647e570482aa7d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dbb/classo2_1_1TPC_1_1GEMAmplification.html#adfebfd20260f815c7e647e570482aa7d">GEMAmplification</a> ()</td></tr>
<tr class="memdesc:adfebfd20260f815c7e647e570482aa7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#adfebfd20260f815c7e647e570482aa7d">More...</a><br/></td></tr>
<tr class="separator:adfebfd20260f815c7e647e570482aa7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac20b85140fba0fc6a477cb55fef01d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dbb/classo2_1_1TPC_1_1GEMAmplification.html#a1ac20b85140fba0fc6a477cb55fef01d">~GEMAmplification</a> ()</td></tr>
<tr class="memdesc:a1ac20b85140fba0fc6a477cb55fef01d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a1ac20b85140fba0fc6a477cb55fef01d">More...</a><br/></td></tr>
<tr class="separator:a1ac20b85140fba0fc6a477cb55fef01d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78ed4a7f6a3f6808d5f89f0fa05dc46f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dbb/classo2_1_1TPC_1_1GEMAmplification.html#a78ed4a7f6a3f6808d5f89f0fa05dc46f">getStackAmplification</a> (int nElectrons=1)</td></tr>
<tr class="separator:a78ed4a7f6a3f6808d5f89f0fa05dc46f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4fc0e0221d10dc9c19978252687b112"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dbb/classo2_1_1TPC_1_1GEMAmplification.html#aa4fc0e0221d10dc9c19978252687b112">getSingleGEMAmplification</a> (int nElectrons, int GEM)</td></tr>
<tr class="separator:aa4fc0e0221d10dc9c19978252687b112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ea20e1ff3fe9ab60cc6b99765fc29d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dbb/classo2_1_1TPC_1_1GEMAmplification.html#a3ea20e1ff3fe9ab60cc6b99765fc29d6">getElectronLosses</a> (int nElectrons, <a class="el" href="../../d4/dc3/classfloat.html">float</a> probability)</td></tr>
<tr class="separator:a3ea20e1ff3fe9ab60cc6b99765fc29d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad175ca5fe64857e8c2517b97832d532a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dbb/classo2_1_1TPC_1_1GEMAmplification.html#ad175ca5fe64857e8c2517b97832d532a">getGEMMultiplication</a> (int nElectrons, int GEM)</td></tr>
<tr class="separator:ad175ca5fe64857e8c2517b97832d532a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class handles the amplification of electrons in the GEM stack The full amplification in a stack of four GEMs can be conducted, or each of the individual processes (Electrons collection, amplification and extraction) can be conducted individually </p>

<p>Definition at line <a class="el" href="../../d9/d79/GEMAmplification_8h_source.html#l00027">27</a> of file <a class="el" href="../../d9/d79/GEMAmplification_8h_source.html">GEMAmplification.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="adfebfd20260f815c7e647e570482aa7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GEMAmplification::GEMAmplification </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>
<p>this dramatically alters the speed with which the filling is executed... without this, the distribution makes discrete steps at every int </p>

<p>Definition at line <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html#l00026">26</a> of file <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html">GEMAmplification.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a1ac20b85140fba0fc6a477cb55fef01d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GEMAmplification::~GEMAmplification </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3ea20e1ff3fe9ab60cc6b99765fc29d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GEMAmplification::getElectronLosses </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nElectrons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dc3/classfloat.html">float</a>&#160;</td>
          <td class="paramname"><em>probability</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the electron losses due to extraction or collection efficiencies </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nElectrons</td><td>Input number of electrons </td></tr>
    <tr><td class="paramname">probability</td><td>Collection or extraction efficiency </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of electrons after probable losses </dd></dl>
<p>Electrons losses due to collection or extraction processes</p>
<p>All electrons are lost in case none are given to the GEM, or the probability is negligible</p>
<p>For sufficiently large probabilities all electrons are passed further on</p>
<p>Condition whether the binomial distribution can be approximated by a Gaussian with mean n*p+0.5 and width sqrt(n*p*(1-p))</p>
<p>Explicit handling of the probability for each individual electron </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000044">Todo:</a></b></dt><dd>For further amplification of the process one could also just draw a random number from a binomial distribution, but it should be checked whether this is faster </dd></dl>

<p>Definition at line <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html#l00134">134</a> of file <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html">GEMAmplification.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="ad175ca5fe64857e8c2517b97832d532a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GEMAmplification::getGEMMultiplication </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nElectrons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>GEM</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the number of electrons after amplification in a single GEM foil taking into account avalanche fluctuations (Polya for &lt;500 electrons and Gaus (central limit theorem) for a larger number of electrons) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nElectrons</td><td>Input number of electrons </td></tr>
    <tr><td class="paramname">GEM</td><td>Number of the GEM in the stack (1, 2, 3, 4) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of electrons after amplification in the GEM </dd></dl>
<p>Total charge multiplication in the GEM We take into account fluctuations of the avalanche process</p>
<p>All electrons are lost in case none are given to the GEM</p>
<p>For this condition the central limit theorem holds and we can approximate the amplification fluctuations by a Gaussian for all electrons The mean is given by nElectrons * G_abs and the width by sqrt(nElectrons) * Sigma/Mu (Polya) * G_abs</p>
<p>Otherwise we compute the gain fluctuations as the convolution of many single electron amplification fluctuations </p>

<p>Definition at line <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html#l00108">108</a> of file <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html">GEMAmplification.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="aa4fc0e0221d10dc9c19978252687b112"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GEMAmplification::getSingleGEMAmplification </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nElectrons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>GEM</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the number of electrons after amplification in a single GEM foil taking into account collection and extraction efficiencies and fluctuations of the GEM amplification </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nElectrons</td><td>Number of electrons to be amplified </td></tr>
    <tr><td class="paramname">GEM</td><td>Number of the GEM in the stack (1, 2, 3, 4) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of electrons after amplification in a single GEM foil </dd></dl>
<p>The effective gain of the GEM foil is given by three components</p>
<ol type="1">
<li>Collection of the electrons, which is related to the collection efficiency ε_coll</li>
<li>Amplification of the charges in the GEM holes, which is related to the GEM absolute gain G_abs</li>
<li>Extraction of the electrons, which is related to the extraction efficiency ε_extr The effective gain, and thus the overall amplification of the GEM is then given by G_eff = ε_coll * G_abs * ε_extr Each of the three processes is handled by a sub-routine </li>
</ol>

<p>Definition at line <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html#l00092">92</a> of file <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html">GEMAmplification.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a78ed4a7f6a3f6808d5f89f0fa05dc46f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GEMAmplification::getStackAmplification </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nElectrons</em> = <code>1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the number of electrons after amplification in a full stack of four GEM foils </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nElectrons</td><td>Number of electrons arriving at the first amplification stage (GEM1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of electrons after amplification in a full stack of four GEM foils </dd></dl>
<p>We start with an arbitrary number of electrons given to the first amplification stage The amplification in the GEM stack is handled for each electron individually and the resulting amplified electrons are passed to the next amplification stage. </p>

<p>Definition at line <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html#l00081">81</a> of file <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html">GEMAmplification.cxx</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/travis/build/AliceO2Group/AliceO2/Detectors/TPC/simulation/include/TPCSimulation/<a class="el" href="../../d9/d79/GEMAmplification_8h_source.html">GEMAmplification.h</a></li>
<li>/home/travis/build/AliceO2Group/AliceO2/Detectors/TPC/simulation/src/<a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html">GEMAmplification.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d4/d7c/namespaceo2.html">o2</a></li><li class="navelem"><a class="el" href="../../da/d73/namespaceo2_1_1TPC.html">TPC</a></li><li class="navelem"><a class="el" href="../../d3/dbb/classo2_1_1TPC_1_1GEMAmplification.html">GEMAmplification</a></li>
    <li class="footer">Generated on Fri Jan 12 2018 08:59:30 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
